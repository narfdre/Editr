<html>
  <head>
  <script>
	var supportsCanvas = !!document.createElement('canvas').getContext;
	supportsCanvas && (window.onload = greyImages);
	function greyImages() {
		var ctx = document.getElementsByTagName("canvas")[0].getContext('2d'),
			img = document.getElementById("cvs-src"),
			imageData, px, length, i = 0,
			grey;

		ctx.drawImage(img, 0, 0);

 		var imageData = ctx.getImageData(0, 0, 750, 502);
        var red = blue = green = alpha = [];
        var color = 0;
        ImageData.prototype.sepia = function(){
        	console.log(this);
        	var px = this.data;
        	var length = px.length;
	        for (i = 0 ; i < length; i+= 4 ) {
            	var red = (px[i] * .393) + (px[i+1] * .769) + (px[i+2] * .189);
		        var green = (px[i] * .349) + (px[i+1] * .686) + (px[i+2] * .168);
		        var blue = (px[i] * .272) + (px[i+1] * .534) + (px[i+2] * .131);
		        this.data[i] = red;
		        this.data[i+1] = green;
		        this.data[i+2] = blue; 
			}
        }
        ImageData.prototype.grayscale = function(){
	       var px = this.data;
    	   var length = px.length;
    	   for (i = 0 ; i < length; i+= 4 ) {
		       var gray = (px[i] + px[i+1] + px[i+2]) / 3	;
	      	    this.data[i] = gray;
	      	    this.data[i+1] = gray;
	     	    this.data[i+2] = gray;   
	     	}
        }
        ImageData.prototype.invert = function(){
	       var px = this.data;
    	   var length = px.length;
    	   for (i = 0 ; i < length; i+= 4 ) {
	      	    this.data[i] = 255 - px[i];
	      	    this.data[i+1] = 255 - px[i+1];
	     	    this.data[i+2] = 255 - px[i+2];   
	     	}
        }
        ImageData.prototype.monoRed = function(){
	       var px = this.data;
    	   var length = px.length;
    	   for (i = 0 ; i < length; i+= 4 ) {
	      	    this.data[i+1] = 0;
	     	    this.data[i+2] = 0;   
	     	}
        }
        ImageData.prototype.monoGreen = function(){
	       var px = this.data;
    	   var length = px.length;
    	   for (i = 0 ; i < length; i+= 4 ) {
	      	    this.data[i] = 0;
	     	    this.data[i+2] = 0;   
	     	}
        }
        ImageData.prototype.monoBlue = function(){
	       var px = this.data;
    	   var length = px.length;
    	   for (i = 0 ; i < length; i+= 4 ) {
	      	    this.data[i] = 0;
	     	    this.data[i+1] = 0;   
	     	}
        }

		//imageData.monoBlue();
		//imageData.monoGreen();
		//imageData.monoRed();
		//imageData.invert();
		//imageData.sepia();
		//imageData.grayscale();
		ctx.putImageData(imageData, 0, 0);
	}
</script> 
  </head>
  <body>
    <img src="test.JPG"  id="cvs-src" style="display: none;"/>
    <canvas width="750" height="502"></canvas>
  </body>
</html>